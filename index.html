<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MR GAMES +</title>
<link rel="icon" href="favicon.ico">
<style>
/* --- Global Styles --- */
body, html {
  margin: 0;
  padding: 0;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: linear-gradient(to right, #0f2027, #203a43, #2c5364);
  color: #fff;
  overflow-x: hidden;
  position: relative;
}
a { text-decoration: none; color: inherit; }
h1 { font-size: 3.5rem; text-align: center; color: #f0db4f; text-shadow: 0 0 10px #f0db4f, 0 0 20px #f0db4f; animation: glow 1.5s ease-in-out infinite alternate; margin-top: 20px; }
@keyframes glow { from { text-shadow:0 0 5px #f0db4f;} to{ text-shadow:0 0 20px #f0db4f, 0 0 30px #f0db4f;} }

/* --- Container --- */
.container { max-width: 1200px; margin: auto; padding: 20px; }
.games-grid { display: grid; grid-template-columns: repeat(auto-fill,minmax(180px,1fr)); gap:20px; margin-top:30px; }
.game-card { background: rgba(0,0,0,0.6); border-radius:12px; overflow:hidden; box-shadow:0 0 15px rgba(0,255,255,0.3); transition: all 0.3s; cursor:pointer; display:flex; flex-direction:column; text-align:center; }
.game-card:hover { transform: scale(1.05); box-shadow:0 0 30px #00ffff; }
.game-card img { width:100%; height:120px; object-fit:cover; }
.game-card h3 { margin:10px 0 5px 0; font-size:1rem; color:#00ffff; }
.game-card p { font-size:0.8rem; margin-bottom:10px; }

/* --- Search & Sorting --- */
.search-bar { display:flex; justify-content:center; gap:10px; flex-wrap:wrap; margin-top:20px; }
.search-bar input, .search-bar select { padding:10px; border-radius:8px; border:none; font-size:1rem; }
.search-bar input { width:200px; }

/* --- Rain --- */
.rain-wrapper { pointer-events: none; position: fixed; top:0; left:0; width:100vw; height:100vh; z-index:0; overflow:hidden; }
.raindrop { position:absolute; top:-20px; width:2px; background:linear-gradient(180deg, #00ffff, #0077aa); border-radius:50%/40%; opacity:0.6; animation: fall linear infinite; }
@keyframes fall { to { transform: translateY(110vh); opacity:0; } }

/* --- Buttons & UI --- */
.settings-button { position:fixed; top:15px; right:15px; background:#00ffff; color:#0f2027; border:none; border-radius:50px; padding:10px 20px; font-weight:bold; box-shadow:0 0 12px #00ffff; cursor:pointer; z-index:10; }
.settings-button:hover { box-shadow:0 0 20px #00ffff; }
#chat-toggle { position:fixed; bottom:20px; left:20px; background:#0078D7; color:white; padding:10px 15px; border-radius:20px; cursor:pointer; z-index:10; box-shadow:0 0 10px #0078D7; }
.partner-badge { position:fixed; bottom:20px; right:20px; background:linear-gradient(135deg,#00ffff,#0078D7); color:#0f2027; padding:10px 20px; border-radius:30px; font-weight:bold; box-shadow:0 0 15px #00ffff; z-index:10; }

/* --- Footer --- */
footer { text-align:center; margin:40px 0 20px 0; }
footer a { margin:0 10px; color:#00ffff; font-weight:bold; }
</style>
</head>
<body>

<h1>MR GAMES +</h1>

<div class="search-bar">
<input type="text" id="searchBar" placeholder="Search games..." oninput="filterGames()">
<select id="sortOptions" onchange="sortGames()">
<option value="name">Name</option>
<option value="id">ID (Date)</option>
<option value="popular">Popular</option>
</select>
<button class="settings-button" onclick="alert('Settings coming soon!')">‚öôÔ∏è Settings</button>
</div>

<div class="rain-wrapper" id="rain-wrapper"></div>

<div class="container">
<h2>Featured Games</h2>
<div class="games-grid" id="featuredGames">
  <!-- Featured games go here -->
</div>

<h2>All Games</h2>
<div class="games-grid" id="allGames">
  <!-- All games go here -->
</div>
</div>

<div id="chat-toggle" onclick="toggleChat()">üí¨ Chat</div>
<a href="https://sigmasigmatoiletedge.github.io/" class="partner-badge" target="_blank">ü§ù Partnered with Sigmi</a>

<footer>
<a href="#" onclick="showContact()">Contact</a>
<a href="#" onclick="loadPrivacy()">Privacy Policy</a>
<a href="javascript:saveData()">Export Data</a>
<a href="#" onclick="document.getElementById('importData').click(); return false;">Import Data</a>
<input type="file" id="importData" style="display:none;" onchange="loadData(event)">
</footer>

<script>
// --- Rain Animation ---
const rainWrapper = document.getElementById('rain-wrapper');
for(let i=0;i<150;i++){
  const drop=document.createElement('div');
  drop.classList.add('raindrop');
  const left=Math.random()*100;
  const size=1+Math.random()*2;
  const duration=2+Math.random()*3;
  const delay=Math.random()*10;
  drop.style.left=`${left}vw`;
  drop.style.width=`${size}px`;
  drop.style.height=`${8+size*6}px`;
  drop.style.animationDuration=`${duration}s`;
  drop.style.animationDelay=`${delay}s`;
  rainWrapper.appendChild(drop);
}

// --- Chat ---
function toggleChat(){
  if(window.chatWindow && !window.chatWindow.closed){
    window.chatWindow.focus();
  } else {
    window.chatWindow=window.open('https://forum.whatthesigma.site/home','ChatWindow','width=400,height=600');
    if(!window.chatWindow) alert("Popup blocked! Allow popups to use chat.");
  }
}

// --- Game Data ---
const featuredGamesData=[
  {name:"Undertale", img:"img/undertale.png", link:"https://gn-math.github.io/games/undertale.html"},
  {name:"Hollow Knight", img:"img/hollow_knight.png", link:"https://gn-math.github.io/games/hollow_knight.html"},
  {name:"Cuphead", img:"img/cuphead.png", link:"https://gn-math.github.io/games/cuphead.html"},
  {name:"Baldi's Basics Plus", img:"img/baldis_basics.png", link:"https://gn-math.github.io/games/baldis_basics_plus.html"},
  {name:"Deltarune", img:"img/deltarune.png", link:"https://gn-math.github.io/games/deltarune.html"}
];

const allGamesData=[
  {name:"Bad Parenting 1", img:"img/bad_parenting1.png", link:"#"},
  {name:"Bendy and the Ink Machine", img:"img/bendy.png", link:"#"},
  {name:"Buckshot Roulette", img:"img/buckshot.png", link:"#"},
  {name:"Chat Bot (A.I.)", img:"img/chatbot.png", link:"#"},
  {name:"Class of '09", img:"img/class09.png", link:"#"},
  {name:"Crazy Cars", img:"img/crazy_cars.png", link:"#"},
  {name:"OMORI", img:"img/omori.png", link:"#"},
  {name:"Pizza Tower", img:"img/pizza_tower.png", link:"#"},
  {name:"WebFishing", img:"img/webfishing.png", link:"#"},
  {name:"Yume Nikki", img:"img/yume_nikki.png", link:"#"}
];

// --- Render Games ---
function renderGames(){
  const fg=document.getElementById('featuredGames');
  featuredGamesData.forEach(game=>{
    const card=document.createElement('div');
    card.className='game-card';
    card.innerHTML=`<img src="${game.img}" alt="${game.name}"><h3>${game.name}</h3>`;
    card.onclick=()=>window.open(game.link,'_blank');
    fg.appendChild(card);
  });
  
  const ag=document.getElementById('allGames');
  allGamesData.forEach(game=>{
    const card=document.createElement('div');
    card.className='game-card';
    card.innerHTML=`<img src="${game.img}" alt="${game.name}"><h3>${game.name}</h3>`;
    card.onclick=()=>window.open(game.link,'_blank');
    ag.appendChild(card);
  });
}

// --- Search ---
function filterGames(){
  const query=document.getElementById('searchBar').value.toLowerCase();
  document.querySelectorAll('.game-card').forEach(card=>{
    const name=card.querySelector('h3').innerText.toLowerCase();
    card.style.display=name.includes(query)?'flex':'none';
  });
}

// --- Sort ---
function sortGames(){
  const criteria=document.getElementById('sortOptions').value;
  const container=document.getElementById('allGames');
  const cards=Array.from(container.children);
  cards.sort((a,b)=>{
    if(criteria==='name') return a.querySelector('h3').innerText.localeCompare(b.querySelector('h3').innerText);
    return 0; // Placeholder for popular/ID sorting
  });
  container.innerHTML='';
  cards.forEach(c=>container.appendChild(c));
}

renderGames();
</script>
</body>
</html>
